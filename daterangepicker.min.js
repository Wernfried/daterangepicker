!function(t,e){if("function"==typeof define&&define.amd)define(["luxon","jquery"],function(t,a){return a.fn||(a.fn={}),"function"!=typeof t&&t.hasOwnProperty("default")&&(t=t.default),e(t,a)});else if("object"==typeof module&&module.exports){var a="undefined"!=typeof window?window.jQuery:void 0;a||(a=require("jquery")).fn||(a.fn={});var i="undefined"!=typeof window&&void 0!==window.luxon?window.luxon:require("luxon");module.exports=e(i,a)}else t.daterangepicker=e(t.luxon,t.jQuery)}("undefined"!=typeof window?window:this,function(t,e){const a=t.DateTime,i=t.Duration,s=t.Info;t.Settings;var n=function(t,n,o){this.parentEl="body",this.element=e(t),this.startDate=a.now().startOf("day"),this.endDate=a.now().endOf("day"),this.minDate=null,this.maxDate=null,this.maxSpan=null,this.minSpan=null,this.defaultSpan=null,this.initalMonth=a.now().startOf("month"),this.autoApply=!1,this.singleDatePicker=!1,this.singleMonthView=!1,this.showDropdowns=!1,this.minYear=a.now().minus({year:100}).year,this.maxYear=a.now().plus({year:100}).year,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1;const l=new Intl.DateTimeFormat(a.now().locale,{hour:"numeric"}).resolvedOptions();if(this.timePicker24Hour=!l.hour12,this.timePickerStepSize=i.fromObject({minutes:1}),this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.isInvalidDate=null,this.isInvalidTime=null,this.isCustomDate=null,this.onOutsideClick="apply",this.opens=this.element.hasClass("pull-right")?"left":"right",this.drops=this.element.hasClass("dropup")?"up":"down",this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.weekendClasses="weekend",this.weekendDayClasses="weekend-day",this.todayClasses="today",this.altInput=null,this.altFormat=null,this.externalStyle=null,this.ranges={},this.locale={direction:"ltr",format:a.DATE_SHORT,separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:s.weekdays("short"),monthNames:s.months("long"),firstDay:s.getStartOfWeek(),durationFormat:null},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"boolean"==typeof n.singleDatePicker&&(this.singleDatePicker=n.singleDatePicker),this.singleDatePicker||"boolean"!=typeof n.singleMonthView?this.singleMonthView=!1:this.singleMonthView=n.singleMonthView,"object"==typeof n&&null!==n||(n={}),"string"==typeof(n=e.extend(this.element.data(),n)).externalStyle&&["bulma"].includes(n.externalStyle)&&(this.externalStyle=n.externalStyle),"string"!=typeof n.template&&!(n.template instanceof e)){let t=['<div class="daterangepicker">','<div class="ranges"></div>','<div class="drp-calendar left">','<table class="calendar-table">',"<thead></thead>","<tbody></tbody>","<tfoot>",'<tr class="calendar-time start-time"></tr>'];this.singleMonthView&&t.push('<tr class="calendar-time end-time"></tr>'),t.push("</tfoot>","</table>","</div>"),t.push('<div class="drp-calendar right">','<table class="calendar-table">',"<thead></thead>","<tbody></tbody>","<tfoot>",'<tr class="calendar-time end-time"></tr>',"</tfoot>","</table>","</div>"),t.push('<div class="drp-buttons">','<div class="drp-duration-label"></div>','<div class="drp-selected"></div>'),"bulma"===this.externalStyle?t.push('<div class="buttons">','<button class="cancelBtn button is-small" type="button"></button>','<button class="applyBtn button is-small" disabled type="button"></button>',"</div>"):t.push("<div>",'<button class="cancelBtn" type="button"></button>','<button class="applyBtn" disabled type="button"></button>',"</div>"),t.push("</div></div>"),n.template=t.join("")}if(this.parentEl=n.parentEl&&e(n.parentEl).length?e(n.parentEl):e(this.parentEl),this.container=e(n.template).appendTo(this.parentEl),"boolean"==typeof n.timePicker&&(this.timePicker=n.timePicker),this.timePicker&&(this.locale.format=a.DATETIME_SHORT),"object"==typeof n.locale){for(let t of["separator","applyLabel","cancelLabel","weekLabel"])"string"==typeof n.locale[t]&&(this.locale[t]=n.locale[t]);if("string"==typeof n.locale.direction&&(["rtl","ltr"].includes(n.locale.direction)?this.locale.direction=n.locale.direction:console.error("Option 'options.locale.direction' must be 'rtl' or 'ltr'")),["string","object"].includes(typeof n.locale.format)&&(this.locale.format=n.locale.format),Array.isArray(n.locale.daysOfWeek)&&(n.locale.daysOfWeek.some(t=>"string"!=typeof t)?console.error("Option 'options.locale.daysOfWeek' must be an array of strings"):this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),Array.isArray(n.locale.monthNames)&&(n.locale.monthNames.some(t=>"string"!=typeof t)?console.error("Option 'locale.monthNames' must be an array of strings"):this.locale.monthNames=n.locale.monthNames.slice()),"number"==typeof n.locale.firstDay&&(this.locale.firstDay=n.locale.firstDay),"string"==typeof n.locale.customRangeLabel){(d=document.createElement("textarea")).innerHTML=n.locale.customRangeLabel;var r=d.value;this.locale.customRangeLabel=r}["string","object"].includes(typeof n.locale.durationFormat)&&null!=n.locale.durationFormat&&(this.locale.durationFormat=n.locale.durationFormat)}this.container.addClass(this.locale.direction);for(let t of["timePicker24Hour","showWeekNumbers","showISOWeekNumbers","showDropdowns","linkedCalendars","showCustomRangeLabel","alwaysShowCalendars","autoApply","autoUpdateInput"])"boolean"==typeof n[t]&&(this[t]=n[t]);for(let t of["applyButtonClasses","cancelButtonClasses","weekendClasses","weekendDayClasses","todayClasses"])("string"==typeof n[t]||["weekendClasses","weekendDayClasses","todayClasses"].includes(t)&&null===n[t])&&(this[t]=n[t]);for(let t of["minYear","maxYear"])"number"==typeof n[t]&&(this[t]=n[t]);for(let t of["isInvalidDate","isInvalidTime","isCustomDate"])"function"==typeof n[t]?this[t]=n[t]:this[t]=function(){return!1};if(!this.singleDatePicker){for(let t of["minSpan","maxSpan","defaultSpan"])["string","number","object"].includes(typeof n[t])&&(n[t]instanceof i&&n[t].isValid?this[t]=n[t]:i.fromISO(n[t]).isValid?this[t]=i.fromISO(n[t]):"number"==typeof n[t]&&i.fromObject({seconds:n[t]}).isValid?this[t]=i.fromObject({seconds:n[t]}):null===n[t]?this[t]=null:console.error(`Option '${key}' is not valid`));this.minSpan&&this.maxSpan&&this.minSpan>this.maxSpan&&(this.minSpan=null,this.maxSpan=null,console.warn("Ignore option 'minSpan' and 'maxSpan', because 'minSpan' must be smaller than 'maxSpan'")),this.defaultSpan&&this.minSpan&&this.minSpan>this.defaultSpan?(this.defaultSpan=null,console.warn("Ignore option 'defaultSpan', because 'defaultSpan' must be greater than 'minSpan'")):this.defaultSpan&&this.maxSpan&&this.maxSpan<this.defaultSpan&&(this.defaultSpan=null,console.warn("Ignore option 'defaultSpan', because 'defaultSpan' must be smaller than 'maxSpan'"))}if(this.timePicker){if("boolean"==typeof n.timePickerSeconds&&(this.timePickerStepSize=i.fromObject({[n.timePickerSeconds?"seconds":"minutes"]:1})),"number"==typeof n.timePickerIncrement&&(this.timePickerStepSize=i.fromObject({minutes:n.timePickerIncrement})),["string","object","number"].includes(typeof n.timePickerStepSize)){let t;n.timePickerStepSize instanceof i&&n.timePickerStepSize.isValid?t=n.timePickerStepSize:i.fromISO(n.timePickerStepSize).isValid?t=i.fromISO(n.timePickerStepSize):"number"==typeof n.timePickerStepSize&&i.fromObject({seconds:n.timePickerStepSize}).isValid?t=i.fromObject({seconds:n.timePickerStepSize}):(console.error("Option 'timePickerStepSize' is not valid"),t=this.timePickerStepSize);var h=[];for(let t of["minutes","seconds"])h.push(...[1,2,3,4,5,6,10,12,15,20,30].map(e=>i.fromObject({[t]:e})));h.push(...[1,2,3,4,6].map(t=>i.fromObject({hours:t}))),this.timePicker24Hour&&h.push(...[8,12].map(t=>i.fromObject({hours:t}))),h.some(e=>t.rescale().equals(e))?this.timePickerStepSize=t.rescale():console.error(`Option 'timePickerStepSize' ${JSON.stringify(t.toObject())} is not valid`)}this.maxSpan&&this.timePickerStepSize>this.maxSpan&&console.error(`Option 'timePickerStepSize' ${JSON.stringify(this.timePickerStepSize.toObject())} must be smaller than 'maxSpan'`),this.timePickerOpts={showMinutes:this.timePickerStepSize<i.fromObject({hours:1}),showSeconds:this.timePickerStepSize<i.fromObject({minutes:1}),hourStep:this.timePickerStepSize>=i.fromObject({hours:1})?this.timePickerStepSize.hours:1,minuteStep:this.timePickerStepSize>=i.fromObject({minutes:1})?this.timePickerStepSize.minutes:1,secondStep:this.timePickerStepSize.seconds}}for(let t of["startDate","endDate","minDate","maxDate","initalMonth"])if("endDate"!==t||!this.singleDatePicker)if("object"==typeof n[t])n[t]instanceof a&&n[t].isValid?this[t]=n[t]:n[t]instanceof Date?this[t]=a.fromJSDate(n[t]):null===n[t]?this[t]=null:console.error(`Option '${t}' must be a luxon.DateTime or Date or string`);else if("string"==typeof n[t]){const e="string"==typeof this.locale.format?this.locale.format:a.parseFormatForOpts(this.locale.format);if(a.fromISO(n[t]).isValid)this[t]=a.fromISO(n[t]);else if(a.fromFormat(n[t],e,{locale:a.now().locale}).isValid)this[t]=a.fromFormat(n[t],e,{locale:a.now().locale});else{const i=a.fromFormat(n[t],e,{locale:a.now().locale}).invalidExplanation;console.error(`Option '${t}' is not a valid string: ${i}`)}}if(this.timePicker||(this.minDate&&(this.minDate=this.minDate.startOf("day")),this.maxDate&&(this.maxDate=this.maxDate.endOf("day"))),void 0===n.startDate&&void 0===n.endDate&&e(this.element).is(":text")){let t,i;const s=e(this.element).val();if(""!=s){const e=s.split(this.locale.separator),n="string"==typeof this.locale.format?this.locale.format:a.parseFormatForOpts(this.locale.format);2===e.length?(t=a.fromFormat(e[0],n,{locale:a.now().locale}),i=a.fromFormat(e[1],n,{locale:a.now().locale})):this.singleDatePicker&&(t=a.fromFormat(s,n,{locale:a.now().locale}),i=a.fromFormat(s,n,{locale:a.now().locale})),t.isValid&&i.isValid?(this.setStartDate(t,!1),this.setEndDate(i,!1)):this.singleDatePicker?console.error(`Value in <input> is not a valid string: ${t.invalidExplanation}`):console.error(`Value in <input> is not a valid string: ${t.invalidExplanation} - ${i.invalidExplanation}`)}}if(this.singleDatePicker?this.endDate=this.startDate:this.endDate<this.startDate&&(this.endDate=this.startDate,console.warn(`Set 'endDate' to ${this-this.logDate(endDate)}  because it was earlier than 'startDate'`)),["function","string"].includes(typeof n.altFormat)&&(this.altFormat=n.altFormat),["object","string"].includes(typeof n.altInput)&&null!=n.altInput&&(this.singleDatePicker&&"string"==typeof n.altInput||!this.singleDatePicker&&Array.isArray(n.altInput)&&2===n.altInput.length)&&(this.altInput=n.altInput),void 0!==n.warnings&&console.warn("Option 'warnings' not used anymore. Listen to event 'violated.daterangepicker'"),!this.startDate&&this.initalMonth?(this.endDate=null,this.timePicker&&console.error("Option 'initalMonth' works only with 'timePicker: false'")):this.validateInput(),"string"==typeof n.opens&&(["left","right","center"].includes(n.opens)?this.opens=n.opens:console.error("Option 'options.opens' must be 'left', 'right' or 'center'")),"string"==typeof n.drops&&(["drop","down","auto"].includes(n.drops)?this.drops=n.drops:console.error("Option 'options.drops' must be 'drop', 'down' or 'auto'")),Array.isArray(n.buttonClasses)?this.buttonClasses=n.buttonClasses.join(" "):"string"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses),"string"==typeof n.onOutsideClick&&(["cancel","apply"].includes(n.onOutsideClick)?this.onOutsideClick=n.onOutsideClick:console.error("Option 'options.onOutsideClick' must be 'cancel' or 'apply'")),1!=this.locale.firstDay){let t=this.locale.firstDay;for(;t>1;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),t--}if(!this.singleDatePicker&&"object"==typeof n.ranges){for(let t in n.ranges){let e,i;if(["string","object"].includes(typeof n.ranges[t][0])&&(n.ranges[t][0]instanceof a&&n.ranges[t][0].isValid?e=n.ranges[t][0]:n.ranges[t][0]instanceof Date?e=a.fromJSDate(n.ranges[t][0]):"string"==typeof n.ranges[t][0]&&a.fromISO(n.ranges[t][0]).isValid?e=a.fromISO(n.ranges[t][0]):console.error(`Option ranges['${t}'] is not am array of valid ISO-8601 string or luxon.DateTime or Date`)),["string","object"].includes(typeof n.ranges[t][1])&&(n.ranges[t][1]instanceof a&&n.ranges[t][1].isValid?i=n.ranges[t][1]:n.ranges[t][1]instanceof Date?i=a.fromJSDate(n.ranges[t][1]):"string"==typeof n.ranges[t][1]&&a.fromISO(n.ranges[t][1]).isValid?i=a.fromISO(n.ranges[t][1]):console.error(`Option ranges['${t}'] is not a valid ISO-8601 string or luxon.DateTime or Date`)),null==e||null==i)continue;const s=this.validateInput([t,e,i]);if(s[2].startDate.violations.map(t=>t.reason).some(t=>["minDate","maxDate","minSpan","maxSpan"].includes(t))){const e=s[2].startDate.violations.map(t=>t.reason).filter(t=>["minDate","maxDate","minSpan","maxSpan"].includes(t));console.error(`Option ranges['${t}'] is not valid, violating ${e.join(",")}`)}else if(s[2].endDate.violations.map(t=>t.reason).some(t=>["minDate","maxDate","minSpan","maxSpan"].includes(t))){const e=s[2].endDate.violations.map(t=>t.reason).filter(t=>["minDate","maxDate","minSpan","maxSpan"].includes(t));console.error(`Option ranges['${t}'] is not valid, violating ${e.join(",")}`)}else{var d;n.ranges[t]=[s[0],s[1]],(d=document.createElement("textarea")).innerHTML=t;r=d.value;this.ranges[r]=[s[0],s[1]]}}var c="<ul>";for(range in this.ranges)c+='<li data-range-key="'+range+'">'+range+"</li>";this.showCustomRangeLabel&&(c+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),c+="</ul>",this.container.find(".ranges").prepend(c),this.container.addClass("show-ranges")}"function"==typeof o&&(this.callback=o),this.timePicker||(this.startDate&&(this.startDate=this.startDate.startOf("day")),this.endDate&&(this.endDate=this.endDate.endOf("day")),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),(this.singleDatePicker||this.singleMonthView)&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===n.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",this.clickPrev.bind(this)).on("click.daterangepicker",".next",this.clickNext.bind(this)).on("mousedown.daterangepicker","td.available",this.clickDate.bind(this)).on("mouseenter.daterangepicker","td.available",this.hoverDate.bind(this)).on("change.daterangepicker","select.yearselect",this.monthOrYearChanged.bind(this)).on("change.daterangepicker","select.monthselect",this.monthOrYearChanged.bind(this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChanged.bind(this)),this.container.find(".ranges").on("click.daterangepicker","li",this.clickRange.bind(this)).on("mouseenter.daterangepicker","li",this.hoverRange.bind(this)).on("mouseleave.daterangepicker","li",this.leaveRange.bind(this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",this.clickApply.bind(this)).on("click.daterangepicker","button.cancelBtn",this.clickCancel.bind(this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":this.show.bind(this),"focus.daterangepicker":this.show.bind(this),"keyup.daterangepicker":this.elementChanged.bind(this),"keydown.daterangepicker":this.keydown.bind(this)}):(this.element.on("click.daterangepicker",this.toggle.bind(this)),this.element.on("keydown.daterangepicker",this.toggle.bind(this))),this.updateElement()};return n.prototype={constructor:n,setStartDate:function(t,e=!1){if(void 0!==e&&e)this.startDate=t;else if("object"==typeof t)if(t instanceof a&&t.isValid)this.startDate=t;else{if(!(t instanceof Date))throw RangeError("The 'startDate' must be a luxon.DateTime or Date or string");this.startDate=a.fromJSDate(t)}else if("string"==typeof t){const e="string"==typeof this.locale.format?this.locale.format:a.parseFormatForOpts(this.locale.format);if(a.fromISO(t).isValid)this.startDate=a.fromISO(t);else{if(!a.fromFormat(t,e,{locale:a.now().locale}).isValid){const i=a.fromFormat(t,e,{locale:a.now().locale}).invalidExplanation;throw RangeError(`The 'startDate' is not a valid string: ${i}`)}this.startDate=a.fromFormat(t,e,{locale:a.now().locale})}}if(void 0!==e&&e||this.validateInput(),!this.singleDatePicker&&!this.endDate)if(this.locale.durationFormat&&this.container.find(".drp-duration-label").html(""),"object"==typeof this.locale.format){const t=`<span>${this.startDate.toLocaleString(this.locale.format)}</span>`;this.container.find(".drp-selected").html(this.startDate.toLocaleString(this.locale.format)+this.locale.separator+t)}else{const t=`<span>${this.startDate.toFormat(this.locale.format)}</span>`;this.container.find(".drp-selected").html(this.startDate.toFormat(this.locale.format)+this.locale.separator+t)}this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t,e=!1){if(void 0!==e&&e)this.endDate=t;else if("object"==typeof t)if(t instanceof a&&t.isValid)this.endDate=t;else{if(!(t instanceof Date))throw RangeError("The 'endDate' must be a luxon.DateTime or Date or string");this.endDate=a.fromJSDate(t)}else if("string"==typeof t){const e="string"==typeof this.locale.format?this.locale.format:a.parseFormatForOpts(this.locale.format);if(a.fromISO(t).isValid)this.endDate=a.fromISO(t);else{if(!a.fromFormat(t,e,{locale:a.now().locale}).isValid){const i=a.fromFormat(t,e,{locale:a.now().locale}).invalidExplanation;throw RangeError(`The 'endDate' is not a valid string: ${i}`)}this.endDate=a.fromFormat(t,e,{locale:a.now().locale})}}if(void 0!==e&&e||this.validateInput(),this.previousRightTime=this.endDate,!this.singleDatePicker){if(this.locale.durationFormat){const t=this.endDate.diff(this.startDate).rescale();"object"==typeof this.locale.durationFormat?this.container.find(".drp-duration-label").html(t.toHuman(this.locale.durationFormat)):this.container.find(".drp-duration-label").html(t.toFormat(this.locale.durationFormat))}"object"==typeof this.locale.format?this.container.find(".drp-selected").html(this.startDate.toLocaleString(this.locale.format)+this.locale.separator+this.endDate.toLocaleString(this.locale.format)):this.container.find(".drp-selected").html(this.startDate.toFormat(this.locale.format)+this.locale.separator+this.endDate.toFormat(this.locale.format))}this.isShowing||this.updateElement(),this.updateMonthsInView()},setPeriod:function(t,e,a=!1){this.singleDatePicker?this.setStartDate(t,a):(this.setStartDate(t,!0),this.setEndDate(e,!0),a||this.validateInput())},logDate:function(t){return this.timePicker?t.toISO({suppressMilliseconds:!0}):t.toISODate()},validateInput:function(t){let e=void 0===t?this.startDate:t[1],s=void 0===t?this.endDate:t[2];if(!e)return;let n={startDate:{violations:[]}},o={old:e,reason:this.timePicker?"timePickerStepSize":"timePicker"};if(this.timePicker){const t=this.timePickerStepSize.as("seconds");e=a.fromSeconds(t*Math.round(e.toSeconds()/t))}else e=e.startOf("day");o.new=e,o.new.equals(o.old)||n.startDate.violations.push(o);const l=this.timePicker?this.timePickerStepSize.as("seconds"):i.fromObject({days:1}).as("seconds");this.minDate&&e<this.minDate?(o={old:e,reason:"minDate"},e=e.plus({seconds:Math.trunc(this.minDate.diff(e).as("seconds")/l)*l}),e<this.minDate&&(e=e.plus(this.timePicker?this.timePickerStepSize:{days:1})),o.new=e,o.new.equals(o.old)||n.startDate.violations.push(o)):this.maxDate&&e>this.maxDate&&(o={old:e,reason:"maxDate"},e=e.minus({seconds:Math.trunc(e.diff(this.maxDate).as("seconds")/l)*l}),e>this.maxDate&&(e=e.minus(this.timePicker?this.timePickerStepSize:{days:1})),o.new=e,o.new.equals(o.old)||n.startDate.violations.push(o));let r=["hour"];if(this.timePicker&&(this.timePickerOpts.showMinutes&&r.push("minute"),this.timePickerOpts.showSeconds&&r.push("second"),this.timePicker24Hour||r.push("ampm")),this.isInvalidDate(e)&&n.startDate.violations.push({old:e,new:e,reason:"isInvalidDate"}),this.timePicker)for(let t of r)this.isInvalidTime(e,t,"start")&&n.startDate.violations.push({old:e,new:e,reason:"isInvalidTime",unit:t});if(this.singleDatePicker)return s=e,void 0===t?void(n.startDate.violations.length>0&&(this.element.triggerHandler("violated.daterangepicker",[this,n])||(this.startDate=e,this.endDate=s))):[e,s,n];if(null!=s){if(n.endDate={violations:[]},o={old:s,reason:this.timePicker?"stepSize":"timePicker"},this.timePicker){const t=this.timePickerStepSize.as("seconds");s=a.fromSeconds(t*Math.round(s.toSeconds()/t))}else s=s.endOf("day");if(o.new=s,o.new.equals(o.old)||n.endDate.violations.push(o),this.maxDate&&s>this.maxDate?(o={old:s,reason:"maxDate"},s=s.minus({seconds:Math.trunc(s.diff(this.maxDate).as("seconds")/l)*l}),s>this.maxDate&&(s=s.minus(this.timePicker?this.timePickerStepSize:{days:1})),o.new=s,o.new.equals(o.old)||n.endDate.violations.push(o)):this.minDate&&s<this.minDate&&(o={old:s,reason:"minDate"},s=s.plus({seconds:Math.trunc(this.minDate.diff(s).as("seconds")/l)*l}),s<this.minDate&&(s=s.plus(this.timePicker?this.timePickerStepSize:{days:1})),o.new=s,o.new.equals(o.old)||n.endDate.violations.push(o)),this.maxSpan){const t=e.plus(this.maxSpan);s>t&&(o={old:s,reason:"maxSpan"},s=s.minus({seconds:Math.trunc(t.diff(s).as("seconds")/l)*l}),s>t&&(s=s.minus(this.timePicker?this.timePickerStepSize:{days:1})),o.new=s,o.new.equals(o.old)||n.endDate.violations.push(o))}if(this.minSpan){const t=e.plus(this.defaultSpan??this.minSpan);s<t&&(o={old:s,reason:"minSpan"},s=s.plus({seconds:Math.trunc(t.diff(s).as("seconds")/l)*l}),s<t&&(s=s.plus(this.timePicker?this.timePickerStepSize:{days:1})),o.new=s,o.new.equals(o.old)||n.endDate.violations.push(o))}if(this.isInvalidDate(s)&&n.endDate.violations.push({old:s,new:s,reason:"isInvalidDate"}),this.timePicker)for(let t of r)this.isInvalidTime(s,t,"end")&&n.endDate.violations.push({old:s,new:s,reason:"isInvalidTime",unit:t});return void 0===t?void((n.startDate.violations.length>0||n.endDate.violations.length>0)&&(this.element.triggerHandler("violated.daterangepicker",[this,n])||(this.startDate=e,this.endDate=s))):[e,s,n]}},updateView:function(){if(this.timePicker&&(this.element.trigger("beforeRenderTimePicker.daterangepicker",this),this.renderTimePicker("start"),this.renderTimePicker("end"),this.endDate?this.container.find(".calendar-time.end-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".calendar-time.end-time select").prop("disabled",!0).addClass("disabled")),this.endDate){if(this.locale.durationFormat&&!this.singleDatePicker){const t=this.endDate.diff(this.startDate).rescale();"object"==typeof this.locale.durationFormat?this.container.find(".drp-duration-label").html(t.toHuman(this.locale.durationFormat)):this.container.find(".drp-duration-label").html(t.toFormat(this.locale.durationFormat))}this.startDate&&("object"==typeof this.locale.format?this.container.find(".drp-selected").html(this.startDate.toLocaleString(this.locale.format)+this.locale.separator+this.endDate.toLocaleString(this.locale.format)):this.container.find(".drp-selected").html(this.startDate.toFormat(this.locale.format)+this.locale.separator+this.endDate.toFormat(this.locale.format)))}this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.hasSame(this.leftCalendar.month,"month")||this.startDate.hasSame(this.rightCalendar.month,"month"))&&(this.endDate.hasSame(this.leftCalendar.month,"month")||this.endDate.hasSame(this.rightCalendar.month,"month")))return;this.leftCalendar.month=this.startDate.startOf("month"),this.singleMonthView||(this.linkedCalendars||this.endDate.hasSame(this.startDate,"month")?this.rightCalendar.month=this.startDate.startOf("month").plus({month:1}):this.rightCalendar.month=this.endDate.startOf("month"))}else!this.startDate&&this.initalMonth?(this.leftCalendar.month=this.initalMonth,this.singleMonthView||(this.rightCalendar.month=this.initalMonth.plus({month:1}))):this.leftCalendar.month.hasSame(this.startDate,"month")||this.rightCalendar.month.hasSame(this.startDate,"month")||(this.leftCalendar.month=this.startDate.startOf("month"),this.rightCalendar.month=this.startDate.startOf("month").plus({month:1}));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&!this.singleMonthView&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.startOf("month"),this.leftCalendar.month=this.maxDate.startOf("month").minus({month:1}))},updateCalendars:function(){var t,e,a;this.timePicker?(this.endDate?(t=parseInt(this.container.find(".start-time .hourselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".start-time .hourselect option:last").val(),10)),e=0,this.timePickerOpts.showMinutes&&(e=parseInt(this.container.find(".start-time .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".start-time .minuteselect option:last").val(),10))),a=0,this.timePickerOpts.showSeconds&&(a=parseInt(this.container.find(".start-time .secondselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".start-time .secondselect option:last").val(),10)))):(t=parseInt(this.container.find(".end-time .hourselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".end-time .hourselect option:last").val(),10)),e=0,this.timePickerOpts.showMinutes&&(e=parseInt(this.container.find(".end-time .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".end-time .minuteselect option:last").val(),10))),a=0,this.timePickerOpts.showSeconds&&(a=parseInt(this.container.find(".end-time .secondselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".end-time .secondselect option:last").val(),10)))),this.leftCalendar.month=this.leftCalendar.month.set({hour:t,minute:e,second:a}),this.singleMonthView||(this.rightCalendar.month=this.rightCalendar.month.set({hour:t,minute:e,second:a}))):(this.leftCalendar.month=this.leftCalendar.month.set({hour:0,minute:0,second:0}),this.singleMonthView||(this.rightCalendar.month=this.rightCalendar.month.set({hour:0,minute:0,second:0})));this.element.trigger("beforeRenderCalendar.daterangepicker",this),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(t){if("right"===t&&this.singleMonthView)return;null==(l="left"===t?this.leftCalendar:this.rightCalendar).month&&!this.startDate&&this.initalMonth&&(l.month=this.initalMonth.startOf("month"));const e=l.month.startOf("month"),i=l.month.endOf("month").startOf("day");var n=l.month.startOf("month").minus({day:1});const o={hour:l.month.hour,minute:l.month.minute,second:l.month.second};var l;(l=[]).firstDay=e,l.lastDay=i;for(var r=0;r<6;r++)l[r]=[];for(;n.weekday!=this.locale.firstDay;)n=n.minus({day:1});for(let t=0,e=-1;t<42;t++,n=n.plus({day:1}))t%7==0&&e++,l[e][t%7]=n.set(o);"left"===t?this.leftCalendar.calendar=l:this.rightCalendar.calendar=l;var h="left"===t?this.minDate:this.startDate,d=this.maxDate,c="<tr>";(this.showWeekNumbers||this.showISOWeekNumbers)&&(c+="<th></th>"),h&&!(h<l.firstDay)||this.linkedCalendars&&"left"!==t?c+="<th></th>":c+='<th class="prev available"><span></span></th>';var m,p=`${this.locale.monthNames[l.firstDay.month-1]} ${l.firstDay.year}`;if(this.showDropdowns){const t=(d&&d.year)??this.maxYear,e=(h&&h.year)??this.minYear;let a="bulma"===this.externalStyle?'<div class="select is-small mr-1">':"";for(var u=`${a}<select class="monthselect">`,f=1;f<=12;f++)u+=`<option value="${f}"${f===l.firstDay.month?" selected":""}`,(h&&l.firstDay.set({month:f})<h.startOf("month")||d&&l.firstDay.set({month:f})>d.endOf("month"))&&(u+=" disabled"),u+=`>${this.locale.monthNames[f-1]}</option>`;u+="</select>","bulma"===this.externalStyle&&(u+="</div>"),a="bulma"===this.externalStyle?'<div class="select is-small ml-1">':"";for(var g=`${a}<select class="yearselect">`,D=e;D<=t;D++)g+=`<option value="${D}"${D===l.firstDay.year?" selected":""}>${D}</option>`;g+="</select>","bulma"===this.externalStyle&&(g+="</div>"),p=u+g}c+='<th colspan="5" class="month">'+p+"</th>",d&&!(d>l.lastDay.endOf("day"))||this.linkedCalendars&&"right"!==t&&!this.singleDatePicker&&!this.singleMonthView?c+="<th></th>":c+='<th class="next available"><span></span></th>',c+="</tr>",c+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(c+=`<th class="week">${this.locale.weekLabel}</th>`);for(let[t,e]of this.locale.daysOfWeek.entries())c+="<th",this.weekendDayClasses&&this.weekendDayClasses.length&&s.getWeekendWeekdays().includes(t+1)&&(c+=` class="${this.weekendDayClasses}"`),c+=`>${e}</th>`;if(c+="</tr>",this.container.find(".drp-calendar."+t+" .calendar-table thead").html(c),c="",null==this.endDate&&this.maxSpan){var k=this.startDate.plus(this.maxSpan).endOf("day");(!d||k<d)&&(d=k)}null==this.endDate&&this.minSpan&&(m=this.startDate.plus(this.minSpan).startOf("day"));for(let t=0;t<6;t++){c+="<tr>",this.showISOWeekNumbers?c+='<td class="week">'+l[t][0].weekNumber+"</td>":this.showWeekNumbers&&(c+='<td class="week">'+l[t][0].localWeekNumber+"</td>");for(let e=0;e<7;e++){var y=[];this.todayClasses&&this.todayClasses.length&&l[t][e].hasSame(a.now(),"day")&&y.push(this.todayClasses),this.weekendClasses&&this.weekendClasses.length&&s.getWeekendWeekdays().includes(l[t][e].weekday)&&y.push(this.weekendClasses),l[t][e].month!=l[1][1].month&&y.push("off","ends"),this.minDate&&l[t][e].startOf("day")<this.minDate.startOf("day")&&y.push("off","disabled"),d&&l[t][e].startOf("day")>d.startOf("day")&&y.push("off","disabled"),m&&l[t][e].startOf("day")>this.startDate.startOf("day")&&l[t][e].startOf("day")<m.startOf("day")&&y.push("off","disabled"),this.isInvalidDate(l[t][e])&&y.push("off","disabled"),null!=this.startDate&&l[t][e].hasSame(this.startDate,"day")&&y.push("active","start-date"),null!=this.endDate&&l[t][e].hasSame(this.endDate,"day")&&y.push("active","end-date"),null!=this.endDate&&l[t][e]>this.startDate&&l[t][e]<this.endDate&&y.push("in-range");var v=this.isCustomDate(l[t][e]);!1!==v&&("string"==typeof v?y.push(v):Array.prototype.push.apply(y,v)),y.includes("disabled")||y.push("available"),c+=`<td class="${y.join(" ")}" data-title="r${t}c${e}">${l[t][e].day}</td>`}c+="</tr>"}this.container.find(".drp-calendar."+t+" .calendar-table tbody").html(c)},renderTimePicker:function(t){if("end"===t&&!this.endDate)return;var e,i,n,o=this.maxDate;let l="";if((this.showWeekNumbers||this.showISOWeekNumbers)&&(l+="<th></th>"),this.maxSpan&&(!this.maxDate||this.startDate.plus(this.maxSpan)<this.maxDate)&&(o=this.startDate.plus(this.maxSpan)),this.minSpan&&"end"===t&&(i=this.startDate.plus(this.defaultSpan??this.minSpan)),"start"===t)e=this.startDate,n=this.minDate;else if("end"===t){e=this.endDate,n=this.startDate;var r=this.container.find(".drp-calendar .calendar-time.end-time");""!=r.html()&&(e=e.set({hour:isNaN(e.hour)?r.find(".hourselect option:selected").val():e.hour,minute:isNaN(e.minute)?r.find(".minuteselect option:selected").val():e.minute,second:isNaN(e.second)?r.find(".secondselect option:selected").val():e.second})),e<this.startDate&&(e=this.startDate),o&&e>o&&(e=o)}l+='<th colspan="7">',"bulma"===this.externalStyle&&(l+='<div class="select is-small mx-1">'),l+='<select class="hourselect">';const h=e.toFormat("a",{locale:"en-US"});let d=0;this.timePicker24Hour||(d="AM"===h?1:13);for(var c=d;c<=d+23;c+=this.timePickerOpts.hourStep){let s=e.set({hour:c%24}),r=!1;if(n&&s.set({minute:59})<n&&(r=!0),o&&s.set({minute:0})>o&&(r=!0),i&&s.endOf("hour")<i&&(r=!0),!r&&this.isInvalidTime(s,this.singleDatePicker?null:t,"hour")&&(r=!0),this.timePicker24Hour)r||c!=e.hour?l+=r?`<option value="${c}" disabled class="disabled">${c}</option>`:`<option value="${c}">${c}</option>`:l+=`<option value="${c}" selected>${c}</option>`;else{const t=a.fromFormat(""+c%24,"H").toFormat("h"),i=a.fromFormat(""+c%24,"H").toFormat("a",{locale:"en-US"});h==i?r||c!=e.hour?l+=r?`<option  ampm="${i}" value="${c%24}" disabled class="disabled">${t}</option>`:`<option ampm="${i}" value="${c%24}">${t}</option>`:l+=`<option ampm="${i}" value="${c%24}" selected>${t}</option>`:l+=`<option ampm="${i}" hidden="hidden" value="${c%24}">${t}</option>`}}if(l+="</select>","bulma"===this.externalStyle&&(l+="</div>"),this.timePickerOpts.showMinutes){l+=" : ","bulma"===this.externalStyle&&(l+='<div class="select is-small mx-1">'),l+='<select class="minuteselect">';for(c=0;c<60;c+=this.timePickerOpts.minuteStep){var m=c<10?"0"+c:c;let a=e.set({minute:c}),s=!1;n&&a.set({second:59})<n&&(s=!0),o&&a.set({second:0})>o&&(s=!0),i&&a.endOf("minute")<i&&(s=!0),!s&&this.isInvalidTime(a,this.singleDatePicker?null:t,"minute")&&(s=!0),e.minute!=c||s?l+=s?`<option value="${c}" disabled class="disabled">${m}</option>`:`<option value="${c}">${m}</option>`:l+=`<option value="${c}" selected>${m}</option>`}l+="</select>","bulma"===this.externalStyle&&(l+="</div>")}if(this.timePickerOpts.showSeconds){l+=" : ","bulma"===this.externalStyle&&(l+='<div class="select is-small mx-1">'),l+='<select class="secondselect">';for(c=0;c<60;c+=this.timePickerOpts.secondStep){m=c<10?"0"+c:c;let a=e.set({second:c}),s=!1;n&&a<n&&(s=!0),o&&a>o&&(s=!0),i&&a<i&&(s=!0),!s&&this.isInvalidTime(a,this.singleDatePicker?null:t,"second")&&(s=!0),e.second!=c||s?l+=s?`<option value="${c}" disabled class="disabled">${m}</option>`:`<option value="${c}">${m}</option>`:l+=`<option value="${c}" selected>${m}</option>`}l+="</select>","bulma"===this.externalStyle&&(l+="</div>")}if(!this.timePicker24Hour){"bulma"===this.externalStyle&&(l+='<div class="select is-small mx-1">'),l+='<select class="ampmselect">';var p="",u="";let a=!1;n&&e.startOf("day")<n&&(a=!0),o&&e.endOf("day")>o&&(a=!0),i&&e.startOf("day")<i&&(a=!0),a?(p=' disabled class="disabled "',u=' disabled class="disabled"'):this.isInvalidTime(e,this.singleDatePicker?null:t,"ampm")&&("AM"===e.toFormat("a",{locale:"en-US"})?u=' disabled class="disabled"':p=' disabled class="disabled"'),l+=`<option value="AM"${p}`,"AM"===e.toFormat("a",{locale:"en-US"})&&(l+=" selected"),l+=`>${s.meridiems()[0]}</option><option value="PM"${u}`,"PM"===e.toFormat("a",{locale:"en-US"})&&(l+=" selected"),l+=`>${s.meridiems()[1]}</option>`,l+="</select>","bulma"===this.externalStyle&&(l+="</div>")}l+="</div></th>",this.container.find(`.drp-calendar .calendar-time.${t}-time`).html(l)},updateFormInputs:function(){this.singleDatePicker||this.endDate&&this.startDate<=this.endDate?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,a={top:0,left:0},i=this.drops,s=e(window).width();switch(this.parentEl.is("body")||(a={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},s=this.parentEl[0].clientWidth+this.parentEl.offset().left),i){case"auto":(t=this.element.offset().top+this.element.outerHeight()-a.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(t=this.element.offset().top-this.container.outerHeight()-a.top,i="up");break;case"up":t=this.element.offset().top-this.container.outerHeight()-a.top;break;default:t=this.element.offset().top+this.element.outerHeight()-a.top}this.container.css({top:0,left:0,right:"auto"});var n=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"===i),"left"===this.opens){var o=s-this.element.offset().left-this.element.outerWidth();n+o>e(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:o,left:"auto"})}else if("center"===this.opens){(l=this.element.offset().left-a.left+this.element.outerWidth()/2-n/2)<0?this.container.css({top:t,right:"auto",left:9}):l+n>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:l,right:"auto"})}else{var l;(l=this.element.offset().left-a.left)+n>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:l,right:"auto"})}},show:function(t){this.isShowing||(this._outsideClickProxy=function(t){this.outsideClick(t)}.bind(this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",function(t){this.move(t)}.bind(this)),this.oldStartDate=this.startDate,this.oldEndDate=this.endDate,this.previousRightTime=this.endDate,this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate,this.endDate=this.oldEndDate),this.startDate==this.oldStartDate&&this.endDate==this.oldEndDate||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),this.element.triggerHandler("beforeHide.daterangepicker",this)||(e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1))},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var a=e(t.target);"focusin"===t.type||a.closest(this.element).length||a.closest(this.container).length||a.closest(".calendar-table").length||("cancel"===this.onOutsideClick&&(this.startDate=this.oldStartDate,this.endDate=this.oldEndDate),this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var a=this.ranges[e];this.startDate=a[0],this.endDate=a[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.element.triggerHandler("beforeHide.daterangepicker",this)&&this.updateView(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month=this.leftCalendar.month.minus({month:1}),this.linkedCalendars&&!this.singleMonthView&&(this.rightCalendar.month=this.rightCalendar.month.minus({month:1}))):this.rightCalendar.month=this.rightCalendar.month.minus({month:1}),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month=this.leftCalendar.month.plus({month:1}):(this.rightCalendar.month=this.rightCalendar.month.plus({month:1}),this.linkedCalendars&&(this.leftCalendar.month=this.leftCalendar.month.plus({month:1}))),this.updateCalendars()},hoverDate:function(t){if(!e(t.target).hasClass("available"))return;let a=e(t.target).attr("data-title");const i=a.substring(1,2),s=a.substring(3,4);var n=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];const o=this.leftCalendar,l=this.rightCalendar,r=this.startDate,h=this.initalMonth;this.endDate||this.container.find(".drp-calendar tbody td").each(function(t,a){if(e(a).hasClass("week"))return;const i=e(a).attr("data-title"),s=i.substring(1,2),d=i.substring(3,4),c=e(a).parents(".drp-calendar").hasClass("left")?o.calendar[s][d]:l.calendar[s][d];!r&&h?e(a).removeClass("in-range"):c>r&&c<n||c.hasSame(n,"day")?e(a).addClass("in-range"):e(a).removeClass("in-range")})},hoverRange:function(t){const a=t.target.getAttribute("data-range-key"),i=[this.startDate,this.endDate],s=this.ranges[a]??[this.startDate,this.endDate],n=this.leftCalendar,o=this.rightCalendar;this.container.find(".drp-calendar tbody td").each(function(t,a){if(e(a).hasClass("week"))return;const l=e(a).attr("data-title"),r=l.substring(1,2),h=l.substring(3,4),d=e(a).parents(".drp-calendar").hasClass("left")?n.calendar[r][h]:o.calendar[r][h];let c=!1;d.hasSame(s[0],"day")&&(c=e(a).addClass("start-hover").length>0),d.hasSame(i[0],"day")&&(c=e(a).addClass("start-date").length>0),d.hasSame(s[1],"day")&&(c=e(a).addClass("end-hover").length>0),null!=i[1]&&d.hasSame(i[1],"day")&&(c=e(a).addClass("end-date").length>0),d.startOf("day")>=s[0].startOf("day")&&d.startOf("day")<=s[1].startOf("day")&&(c=e(a).addClass("range-hover").length>0),d.startOf("day")>=i[0].startOf("day")&&null!=i[1]&&d.startOf("day")<=i[1].startOf("day")&&(c=e(a).addClass("in-range").length>0),c||(e(a).removeClass("start-hover"),e(a).removeClass("end-hover"),e(a).removeClass("start-date"),e(a).removeClass("end-date"),e(a).removeClass("in-range"),e(a).removeClass("range-hover"))})},leaveRange:function(t){this.container.find(".drp-calendar tbody td").each(function(t,a){e(a).hasClass("week")||(e(a).removeClass("start-hover"),e(a).removeClass("end-hover"),e(a).removeClass("range-hover"))})},clickDate:function(t){if(!e(t.target).hasClass("available"))return;var a=e(t.target).attr("data-title"),i=a.substring(1,2),s=a.substring(3,4),n=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];let o;if(this.endDate||!this.startDate||n<this.startDate.startOf("day")){if(this.timePicker){let t=parseInt(this.container.find(".start-time .hourselect").val(),10);isNaN(t)&&(t=parseInt(this.container.find(".start-time .hourselect option:last").val(),10));let e=0;this.timePickerOpts.showMinutes&&(e=parseInt(this.container.find(".start-time .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".start-time .minuteselect option:last").val(),10)));let a=0;this.timePickerOpts.showSeconds&&(a=parseInt(this.container.find(".start-time .secondselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".start-time .secondselect option:last").val(),10))),n=n.set({hour:t,minute:e,second:a})}else n=n.startOf("day");this.endDate=null,this.setStartDate(n,!0),o="start"}else if(!this.endDate&&n<this.startDate)this.setEndDate(this.startDate,!0),o="end";else{if(this.timePicker){let t=parseInt(this.container.find(".end-time .hourselect").val(),10);isNaN(t)&&(t=parseInt(this.container.find(".end-time .hourselect option:last").val(),10));let e=0;this.timePickerOpts.showMinutes&&(e=parseInt(this.container.find(".end-time .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".end-time .minuteselect option:last").val(),10)));let a=0;this.timePickerOpts.showSeconds&&(a=parseInt(this.container.find(".end-time .secondselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".end-time .secondselect option:last").val(),10))),n=n.set({hour:t,minute:e,second:a})}else n=n.endOf("day");this.setEndDate(n,!0),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()),o="end"}this.singleDatePicker&&(this.setEndDate(this.startDate,!0),!this.timePicker&&this.autoApply&&this.clickApply(),o=null),this.updateView(),t.stopPropagation(),this.autoUpdateInput&&this.updateElement(),this.element.trigger("dateChange.daterangepicker",[this,o])},calculateChosenLabel:function(){var t=!0,e=0;for(var a in this.ranges){var i=this.timePicker?"hour":"day";if(this.timePicker&&(this.timePickerOpts.showMinutes?i="minute":this.timePickerOpts.showSeconds&&(i="second")),this.startDate.startOf(i).equals(this.ranges[a][0].startOf(i))&&this.endDate.startOf(i).equals(this.ranges[a][1].startOf(i))){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var a=e(t.target).closest(".drp-calendar").hasClass("left"),i=a?"left":"right",s=this.container.find(".drp-calendar."+i),n=parseInt(s.find(".monthselect").val(),10),o=s.find(".yearselect").val();a||(o<this.startDate.year||o==this.startDate.year&&n<this.startDate.month)&&(n=this.startDate.month,o=this.startDate.year),this.minDate&&(o<this.minDate.year||o==this.minDate.year&&n<this.minDate.month)&&(n=this.minDate.month,o=this.minDate.year),this.maxDate&&(o>this.maxDate.year||o==this.maxDate.year&&n>this.maxDate.month)&&(n=this.maxDate.month,o=this.maxDate.year),a?(this.leftCalendar.month=this.leftCalendar.month.set({year:o,month:n}),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.plus({month:1}))):(this.rightCalendar.month=this.rightCalendar.month.set({year:o,month:n}),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.minus({month:1}))),this.updateCalendars()},timeChanged:function(t){const i=e(t.target).closest(".calendar-time"),s=i.hasClass("start-time")?"start":"end";var n=parseInt(i.find(".hourselect").val(),10);if(isNaN(n)&&(n=parseInt(i.find(".hourselect option:last").val(),10)),!this.timePicker24Hour){const t=i.find(".ampmselect").val();if(null==t&&i.find(".ampmselect option:last").val(),t!=a.fromFormat(`${n}`,"H").toFormat("a",{locale:"en-US"})){i.find(".hourselect > option").each(function(){const t=e(this).attr("hidden")||!1;e(this).attr("hidden",t)});const s=a.fromFormat(`${n}`,"H").toFormat("h");n=a.fromFormat(`${s}${t}`,"ha",{locale:"en-US"}).hour}}var o=0;this.timePickerOpts.showMinutes&&(o=parseInt(i.find(".minuteselect").val(),10),isNaN(o)&&(o=parseInt(i.find(".minuteselect option:last").val(),10)));var l=0;if(this.timePickerOpts.showSeconds&&(l=parseInt(i.find(".secondselect").val(),10),isNaN(l)&&(l=parseInt(i.find(".secondselect option:last").val(),10))),"start"===s){if(this.startDate){let t=this.startDate.set({hour:n,minute:o,second:l});this.setStartDate(t,!0)}this.singleDatePicker?this.endDate=this.startDate:this.endDate&&this.endDate.hasSame(this.startDate,"day")&&this.endDate<this.startDate&&this.setEndDate(this.startDate,!0)}else if(this.endDate){let t=this.endDate.set({hour:n,minute:o,second:l});this.setEndDate(t,!0)}this.updateCalendars(),this.updateFormInputs(),this.element.trigger("beforeRenderTimePicker.daterangepicker",this),this.renderTimePicker("start"),this.renderTimePicker("end"),this.autoUpdateInput&&this.updateElement(),this.element.trigger("timeChange.daterangepicker",[this,this.singleDatePicker?null:s])},elementChanged:function(t){if(!this.element.is("input"))return;if(!this.element.val().length)return;const e=this.element.val().split(this.locale.separator);var i=null,s=null;const n="string"==typeof this.locale.format?this.locale.format:a.parseFormatForOpts(this.locale.format);if(2===e.length&&(i=a.fromFormat(e[0],n,{locale:a.now().locale}),s=a.fromFormat(e[1],n,{locale:a.now().locale})),(this.singleDatePicker||null===i||null===s)&&(s=i=a.fromFormat(this.element.val(),n,{locale:a.now().locale})),!i.isValid||!s.isValid)return;const o=this.startDate!=i||!this.singleDatePicker&&this.endDate!=s;this.setStartDate(i,!1),this.setEndDate(s,!1),this.updateView(),o&&this.element.trigger("inputChanged.daterangepicker",this)},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if(null!=this.startDate||!this.initalMonth){if(this.element.is("input")){let t="object"==typeof this.locale.format?this.startDate.toLocaleString(this.locale.format):this.startDate.toFormat(this.locale.format);this.singleDatePicker||(t+=this.locale.separator,this.endDate&&(t+="object"==typeof this.locale.format?this.endDate.toLocaleString(this.locale.format):this.endDate.toFormat(this.locale.format))),t!==this.element.val()&&this.element.val(t).trigger("change")}null!=this.altInput&&null!=this.altFormat&&(this.singleDatePicker?e(this.altInput).is("input")&&e(this.altInput).val("function"==typeof this.altFormat?this.altFormat(this.startDate):this.startDate.toFormat(this.altFormat)):this.altInput.every(t=>e(t).is("input"))&&(e(this.altInput[0]).val("function"==typeof this.altFormat?this.altFormat(this.startDate):this.startDate.toFormat(this.altFormat)),this.endDate?e(this.altInput[1]).val("function"==typeof this.altFormat?this.altFormat(this.endDate):this.endDate.toFormat(this.altFormat)):e(this.altInput[1]).val(null)))}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,a){var i=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,i,a))}),this},n});
